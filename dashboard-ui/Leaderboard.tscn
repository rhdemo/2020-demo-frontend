[gd_scene load_steps=4 format=2]

[ext_resource path="res://avatars/Avatar.tscn" type="PackedScene" id=1]

[sub_resource type="Shader" id=1]
resource_local_to_scene = true
code = "shader_type canvas_item;
render_mode blend_disabled;
uniform vec4 light_color : hint_color;
uniform vec4 dark_color : hint_color;
const vec3 light_replace = vec3(0.22);
const vec3 dark_replace = vec3(0.17);

void vertex() {
// Output:0

}

void fragment() {
// Texture:7
	vec3 color_curr;
	float alpha_curr;
	{
		vec4 uv_curr = texture( TEXTURE , UV.xy );
		color_curr = uv_curr.rgb;
		alpha_curr = uv_curr.a;
	}

// VectorOp:23
	vec3 color_out;
	color_out = color_curr;
	if(all(lessThan(color_curr,vec3(1.0)))) {
		if (all(lessThan(color_curr, light_replace))) {
			color_out = dark_color.rgb; // Dark Color
		} else if (all(greaterThan(color_curr, light_replace+vec3(0.2)))) {
			color_out = vec3(1.0) ; // Light Color
		}
		else {
			color_out = light_color.rgb; //light_color.rgb * dark_color.rgb;
		}
	}

	COLOR.rgb = color_out;
	COLOR.a = alpha_curr;

}

void light() {
// Output:0

}
"

[sub_resource type="ShaderMaterial" id=2]
resource_local_to_scene = true
resource_name = "base_material"
shader = SubResource( 1 )
shader_param/light_color = Color( 0.482353, 0.901961, 1, 1 )
shader_param/dark_color = Color( 0.152941, 0.294118, 0.309804, 1 )

[node name="Node2D" type="Node2D"]

[node name="Avatar" parent="." instance=ExtResource( 1 )]
material = SubResource( 2 )
position = Vector2( 777.106, 258.904 )
scale = Vector2( 0.39995, 0.39995 )

[node name="Area2D" parent="." instance=ExtResource( 1 )]
position = Vector2( 301.106, 407.904 )
scale = Vector2( 0.44469, 0.44469 )
